# ==============================
# DupeTrace Configuration (overview)
# ==============================
# How to use:
# 1) Set your PostgreSQL connection under database.postgres (url/user/password).
# 2) Restart the server (recommended) after saving changes.
#
# About defaults:
# - Every setting below keeps a short inline comment showing its default value.
# - If unsure, you can keep the defaults; they are safe for most servers.
#
# Overview of settings:
# database.postgres.url        — JDBC URL to your PostgreSQL database (e.g., jdbc:postgresql://localhost:5432/dupe_trace)
# database.postgres.user       — Database username
# database.postgres.password   — Database password
# database.debug               — Extra verbose DB logging to console (spammy). Default: false
# broadcast-duplicates         — Broadcast duplicate detections to all players. Default: true
# alert-admins                 — Send alerts to players with dupetrace.alerts. Default: true
# auto-remove-duplicates       — BETA: auto-remove extra copies (use with caution). Default: true
# keep-oldest-on-dup-remove    — When auto-removing, keep the oldest-known copy. Default: true
# movement-grace-ms            — Grace window to avoid false positives during fast moves. Default: 750
# duplicate-alert-debounce-ms  — Minimum time between alerts for the same item. Default: 2000
# allow-creative-duplicates    — Allow duplicates created in Creative (still logged). Default: true
# known-items-ttl-ms           — TTL for in-memory tracking to cap memory usage. Default: 600000
# scan-interval                — Periodic scan interval in ticks (20 ticks = 1s). Default: 200
# inventory-open-scan-enabled  — Scan inventories when they open (more overhead). Default: true
#
# Tip: Values ending in -ms are milliseconds.

database:
  # DupeTrace uses PostgreSQL only
  postgres:
    # The requirements for PostgreSQL are already included with PaperMC,
    # you just need to provide a (remote) database
    url: jdbc:postgresql://45.77.251.178:5432/dupe_trace
    user: postgres
    password: postgres
  # If true, logs A LOT more info to the console
  debug: false # default: false

# Duplicate detection and notifications
broadcast-duplicates: true # default: true

alert-admins: true # default: true

# -- BETA FEATURE --
# Automatically removing duplicates COULD in very rare cases be triggered by false positives.
# Please make sure to set [keep-oldest-on-dup-remove: true]
auto-remove-duplicates: true # default: true

# When above [auto-remove-duplicates: true], keep
# the oldest recorded version of the item/block
keep-oldest-on-dup-remove: true # default: true

# The Grace Window is a brief moment where the anti-cheat is a bit more forgiving.
# It's designed to ignore very fast, legitimate movements (like quick turns or jumps)
# lower number = stronger detection, but more mistakes
# higher number = weaker detection, but less mistakes
movement-grace-ms: 750 # default: 750

# Suppress repeat alerts for the same item within this window
duplicate-alert-debounce-ms: 2000 # default (milliseconds): 2000

# If [allow-creative-duplicates: true],
# duplicates created in Creative mode are allowed (no alert/removal),
# but will be tagged as [CREATIVE] in logs
allow-creative-duplicates: true # default: true

# In-memory tracking safety to avoid memory growth
# TTL for known item entries (10 minutes)
known-items-ttl-ms: 600000 # default (milliseconds): 600000

# Scanning interval configuration in ticks (200 = 10 seconds)
scan-interval: 200 # default: 200

# If [inventory-open-scan-enabled: false], full inventory scans
# every time an inventory is opened will be disabled.
# This reduces overhead significantly on large active playerbases
inventory-open-scan-enabled: true # default: true
